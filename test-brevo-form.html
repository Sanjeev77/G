<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Brevo Form Test</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 600px;
            margin: 50px auto;
            padding: 20px;
        }
        .test-section {
            margin: 30px 0;
            padding: 20px;
            border: 2px solid #ddd;
            border-radius: 8px;
        }
        h2 {
            color: #333;
        }
    </style>

    <!-- Brevo Form Styles -->
    <style>
        @font-face {
            font-display: block;
            font-family: Roboto;
            src: url(https://assets.brevo.com/font/Roboto/Latin/normal/normal/7529907e9eaf8ebb5220c5f9850e3811.woff2) format("woff2"), url(https://assets.brevo.com/font/Roboto/Latin/normal/normal/25c678feafdc175a70922a116c9be3e7.woff) format("woff")
        }

        #sib-container input::placeholder {
            text-align: left;
            font-family: Helvetica, sans-serif;
            color: #c0ccda;
        }
    </style>
    <link rel="stylesheet" href="https://sibforms.com/forms/end-form/build/sib-styles.css">
</head>
<body>
    <h1>Brevo Newsletter Form Test</h1>
    <p><strong>Instructions:</strong></p>
    <ol>
        <li>Open browser DevTools (F12) and go to Network tab</li>
        <li>Submit an email in Form 1 (Official Brevo Form)</li>
        <li>Check if you see a POST request to sibforms.com</li>
        <li>Check Brevo dashboard: Contacts ‚Üí Lists</li>
        <li>If Form 1 doesn't show in Brevo, the issue is with Brevo settings (Double Opt-in)</li>
    </ol>

    <!-- TEST 1: Official Brevo Form (copy-pasted from Brevo) -->
    <div class="test-section">
        <h2>Test 1: Official Brevo Form</h2>
        <p>This is the exact form HTML from Brevo dashboard</p>

        <div class="sib-form" style="text-align: center; background-color: #EFF2F7;">
            <div id="sib-form-container" class="sib-form-container">
                <div id="sib-container" class="sib-container--large sib-container--vertical" style="text-align:center; background-color:rgba(255,255,255,1); max-width:540px; border-radius:3px;">
                    <form id="sib-form" method="POST" action="https://11afd6fd.sibforms.com/serve/MUIFAA1jBAMcQkp3tduOWfZ9egYdZUV_dvoGeAJ_DhB3bs86KusA20luSUPWEo12G43D50xRePRHGy_MsSbBv5RIwvfmt8UqkarRkKXzscWtBpwqH_fYIkdlO6zehpN6RHjCAR-JSqRgbPq9UVFEsQvzY_d2YzMmDbSSulVXLmjcT0sHC-u1cCcE-Kv-dVpwgHBjvIthDsgLYyxv4g==">
                        <div style="padding: 8px 0;">
                            <div class="sib-form-block" style="font-size:32px; text-align:left; font-weight:700; font-family:Helvetica, sans-serif; color:#3C4858;">
                                <p>Newsletter</p>
                            </div>
                        </div>
                        <div style="padding: 8px 0;">
                            <div class="sib-input sib-form-block">
                                <div class="form__entry entry_block">
                                    <div class="form__label-row">
                                        <label class="entry__label" style="font-weight: 700; font-size:16px; font-family:Helvetica, sans-serif; color:#3c4858;" for="EMAIL" data-required="*">
                                            Enter your email address to subscribe
                                        </label>
                                        <div class="entry__field">
                                            <input class="input" type="text" id="EMAIL" name="EMAIL" autocomplete="off" placeholder="EMAIL" data-required="true" required />
                                        </div>
                                    </div>
                                    <label class="entry__specification" style="font-size:12px; font-family:Helvetica, sans-serif; color:#8390A4;">
                                        Provide your email address to subscribe. For e.g abc@xyz.com
                                    </label>
                                </div>
                            </div>
                        </div>
                        <div style="padding: 8px 0;">
                            <div class="sib-form-block" style="text-align: left">
                                <button class="sib-form-block__button sib-form-block__button-with-loader" style="font-size:16px; font-weight:700; font-family:Helvetica, sans-serif; color:#FFFFFF; background-color:#3E4857; border-radius:3px; border-width:0px;" form="sib-form" type="submit">
                                    SUBSCRIBE
                                </button>
                            </div>
                        </div>
                        <input type="text" name="email_address_check" value="" class="input--hidden">
                        <input type="hidden" name="locale" value="en">
                        <input type="hidden" name="html_type" value="simple">
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- TEST 2: Your Custom Form -->
    <div class="test-section">
        <h2>Test 2: Your Custom Form (Simplified)</h2>
        <p>This is your custom styled form with minimal changes</p>

        <form id="test-form-2" method="POST" action="https://11afd6fd.sibforms.com/serve/MUIFAA1jBAMcQkp3tduOWfZ9egYdZUV_dvoGeAJ_DhB3bs86KusA20luSUPWEo12G43D50xRePRHGy_MsSbBv5RIwvfmt8UqkarRkKXzscWtBpwqH_fYIkdlO6zehpN6RHjCAR-JSqRgbPq9UVFEsQvzY_d2YzMmDbSSulVXLmjcT0sHC-u1cCcE-Kv-dVpwgHBjvIthDsgLYyxv4g==" target="test-iframe">
            <div style="margin: 10px 0;">
                <label for="test-email-2">Email Address:</label><br>
                <input type="email" id="test-email-2" name="EMAIL" placeholder="your.email@example.com" required style="padding: 10px; width: 300px; margin-top: 5px;">
            </div>
            <button type="submit" style="padding: 10px 20px; background: #3E4857; color: white; border: none; cursor: pointer;">
                Subscribe
            </button>

            <!-- Brevo required hidden fields -->
            <input type="text" name="email_address_check" value="" style="display:none">
            <input type="hidden" name="locale" value="en">
            <input type="hidden" name="html_type" value="simple">
        </form>

        <iframe name="test-iframe" style="display:none;"></iframe>
        <p id="test-message-2" style="margin-top: 10px; font-weight: bold;"></p>
    </div>

    <script>
        // Monitor form submissions
        document.getElementById('sib-form').addEventListener('submit', function(e) {
            console.log('üîç Test 1 (Official Brevo Form) submitted');
            console.log('Form action:', this.action);
            console.log('Form data:', new FormData(this));
        });

        document.getElementById('test-form-2').addEventListener('submit', function(e) {
            console.log('üîç Test 2 (Custom Form) submitted');
            console.log('Form action:', this.action);

            const iframe = document.querySelector('iframe[name="test-iframe"]');
            iframe.addEventListener('load', function() {
                document.getElementById('test-message-2').textContent = '‚úÖ Form submitted! Check Brevo dashboard.';
                document.getElementById('test-message-2').style.color = 'green';
            }, { once: true });
        });

        // Network monitoring instructions
        console.log('üìã DEBUGGING CHECKLIST:');
        console.log('1. Open Network tab in DevTools');
        console.log('2. Submit Test 1 (Official Brevo Form)');
        console.log('3. Look for POST request to "sibforms.com"');
        console.log('4. Check Response tab - look for success/error message');
        console.log('5. Go to Brevo: https://app.brevo.com/contact/list');
        console.log('6. Check BOTH "Active" and "Unconfirmed" contacts');
        console.log('');
        console.log('‚ö†Ô∏è If Test 1 doesn\'t show in Brevo after submission:');
        console.log('   ‚Üí Double Opt-in is likely enabled');
        console.log('   ‚Üí Check email spam folder for confirmation link');
        console.log('   ‚Üí Or disable Double Opt-in in Brevo form settings');
    </script>
</body>
</html>
